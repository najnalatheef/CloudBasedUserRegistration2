{
	"variables": [],
	"info": {
		"name": "CloudBasedUserRegistration",
		"_postman_id": "641a1f8c-0442-2971-ca62-832820672d46",
		"description": "",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "http://localhost:4444/auth/clients",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"clientId\": \"gateway\",\n\t\"scopes\": \"FOO, YOO\",\n\t\"authorities\": \"FOO_READ, FOO_WRITE\",\n\t\"authorizedGrantTypes\": \"implicit, refresh_token, password, authorization_code, client_credentials\",\n\t\"isAutoApprove\": true,\n\t\"resourceId\": \"FOO, DOO, YOO, account-resource\",\n\t\"accessTokenValiditySeconds\": 500000,\n    \"refreshTokenValiditySeconds\": 1000000,\n    \"clientSecret\": \"1234\",\n    \"redirectUri\": \"http://example.com\"\n}"
				},
				"url": "http://localhost:4444/auth/clients"
			},
			"response": []
		},
		{
			"name": "gateway:1234@localhost:4444/auth/oauth/token",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/x-www-form-urlencoded"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsiRE9PIiwiRk9PIiwiWU9PIiwiYWNjb3VudC1yZXNvdXJjZSJdLCJ1c2VyX25hbWUiOiJtYWluIiwic2NvcGUiOlsiRk9PIiwiWU9PIl0sImV4cCI6MTUwNzgyNzQwMiwiYXV0aG9yaXRpZXMiOlsiRk9PX1JFQUQsIEZPT19SRUFEX1VTRVIiXSwianRpIjoiYTg2YmM5YTEtNTI3Mi00ZmVjLTk4MmMtOGU1NTQ4Mzc2NzU1IiwiY2xpZW50X2lkIjoiZ2F0ZXdheSJ9.WI8cSsU8iodmfa-n1HYTMtMXGGPcN09JL5D-VpfgCQtX5Vk4VlGxLqLB0XNrbKG5IINM3IEvPeM4aRapxGKwG_J6xLJphP7LYvTERTadSU0xAIvyT8lsz4exPSfiV2lxoG5DvJBN_wpfx1UbITPVBcgAdq6OcAfUopc0FpZPeKVUlUJNhZnq2m4vWRmpknkQPMF9S8y-Hr1Vw2KdEcjeo0Plzpxe_Tyis7RIOzouut4E5SSFltFj0LPHNstbwEpSy4We8gjwfX-zBq7CDjsbz-NqwZkjngSqmHCwj-edXvnnx6v5SIwQQb9Cb3-BOemuI0Bkr9YxosDYB2EwTE023wCw6dMHBrydDkm6oefuqyCBDVGD67vUWH28-MmWWf8cfYnK1bEcFocMqIA072NNfJcSxJxOJP-Jc-NqGw",
						"disabled": true
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "client_id",
							"value": "gateway",
							"type": "text",
							"disabled": true
						},
						{
							"key": "client_secret",
							"value": "1234",
							"type": "text",
							"disabled": true
						},
						{
							"key": "grant_type",
							"value": "password",
							"type": "text"
						},
						{
							"key": "username",
							"value": "mapaez",
							"type": "text"
						},
						{
							"key": "password",
							"value": "1234",
							"type": "text"
						},
						{
							"key": "response_type",
							"value": "code",
							"type": "text",
							"disabled": true
						},
						{
							"key": "redirect_uri",
							"value": "http://localhost:9999/oauth/token",
							"type": "text",
							"disabled": true
						},
						{
							"key": "grant_type",
							"value": "client_credentials",
							"type": "text",
							"disabled": true
						},
						{
							"key": "code",
							"value": "1f229f1b-c173-4d1a-bd29-703fb53d9681",
							"type": "text",
							"disabled": true
						}
					]
				},
				"url": "gateway:1234@localhost:4444/auth/oauth/token"
			},
			"response": []
		},
		{
			"name": "http://localhost:4444/accounts/search/findByUsername?username=Antonio",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsiRE9PIiwiRk9PIiwiWU9PIiwiYWNjb3VudC1yZXNvdXJjZSJdLCJleHAiOjE1MTI2NzM1MDUsInVzZXJfbmFtZSI6Im1hcGFleiIsImp0aSI6ImIzYWZmZTM2LWNmZjMtNDRjMS1iZDRhLTRjODA3ZGY0ODdmYyIsImNsaWVudF9pZCI6ImdhdGV3YXkiLCJzY29wZSI6WyJGT08iLCJZT08iXX0.sCd_8awwoed4gsbf9R2oHN0enHVZ_OSUSMxT-Rkh6J9BZ46Srja8Ze96evN-VvEpvlMGn5UKh_5gAl8Ypme-szFy7QL2VuT5_fYHAYLDPngOoQBDTWGV1fB0fCFDQtt0etC3obyAQR24UN7BKZbBpdmvEzxxaWKVMwKPq76BqxSY5Hnq8yvf6dSAfX3Oh5v829EJ8KQw49BcqDH5bm0pcmtN4KPGCfzeZ2rn1w0owKslHyxUJKKbMEM3FE2vHZnIZFuZnUobXIcnwOepVW9Q23wy9RBN17lBnyWq1LAICX9jiYst9pxx1MSQKbSsZuAEOEpY4_mgB6dIxw9_8ojg4A"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"username\": \"mapaez\",\n\t\"password\": \"1234\",\n\t\"authorities\": \"ROLE_ADMIN\",\n\t\"name\": \"manuel\"\n}"
				},
				"url": {
					"raw": "http://localhost:4444/accounts/search/findByUsername?username=Antonio",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "4444",
					"path": [
						"accounts",
						"search",
						"findByUsername"
					],
					"query": [
						{
							"key": "username",
							"value": "Antonio",
							"equals": true
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "http://localhost:4444/auth/accounts",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"username\": \"mapaez\",\n\t\"password\": \"1234\",\n\t\"isActive\": true\n}"
				},
				"url": "http://localhost:4444/auth/accounts"
			},
			"response": []
		},
		{
			"name": "http://localhost:4444/auth/authorities",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"authority\": \"ROLE_ADMIN, ROLE_USER, FOO_READ_USER\",\n\t\"username\": \"mapaez\",\n\t\"account\": \"http://localhost:9999/auth/accounts/1\"\n}"
				},
				"url": "http://localhost:4444/auth/authorities"
			},
			"response": []
		},
		{
			"name": "http://localhost:4444/auth/authorities/1",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"username\": \"main\",\n\t\"authority\": \"FOO_READ_MAIN, FOO_READ_USER, FOO_READ\",\n\t\"account\": \"http://192.168.1.8:8888/tests/1\"\n}"
				},
				"url": "http://localhost:4444/auth/authorities/1"
			},
			"response": []
		},
		{
			"name": "http://localhost:4444/accounts",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsiRE9PIiwiRk9PIiwiWU9PIiwiYWNjb3VudC1yZXNvdXJjZSJdLCJ1c2VyX25hbWUiOiJtYWluIiwic2NvcGUiOlsiRk9PIiwiWU9PIl0sImV4cCI6MTUwNzgyODU3MCwiYXV0aG9yaXRpZXMiOlsiRk9PX1JFQUQsIEZPT19SRUFEX1VTRVIiXSwianRpIjoiM2NhZGQ5MjItMDc5MC00NmI1LWEyNjAtYzE0MTEyMjNkNjcwIiwiY2xpZW50X2lkIjoiZ2F0ZXdheSJ9.v4lbZjP2wcFd5iLlL_-rgJi6jxFMSyMKjq5JLKqMWMK6GEGj3R3mflt3evIunV-30vZvFEh9TpbuNnoBoFbyljKz7kAlWORu9bSxqxH_X6kLQEFkeuGGPOxN3LZkXI-Qy__qEHJ1ovq9C4dB2SflC2zAo_51nD4mzA2BXBtrY1RZ9gdTUloZgNwVvPZsVpuZuQJMl_JGCqda0nClvGKXEoJ94JEEWWNnvfxlvz0RBzbL4PL6_2LJN-e__nxbJm6x7JZhHl4CHmdHBt-dlC6qNABy77WRTRG03swgXaOZMevbmstG8Sn-BmasGwITaBQyyFTg5A1AQwANDuONxKqklA",
						"disabled": true
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"username\": \"Antonio\",\n\t\"password\": \"1234\",\n\t\"authorities\": \"ROLE_ADMIN\",\n\t\"name\": \"lol\"\n}"
				},
				"url": "http://localhost:4444/accounts"
			},
			"response": []
		},
		{
			"name": "http://localhost:4444/auth/accounts/2",
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": "http://localhost:4444/auth/accounts/2"
			},
			"response": []
		},
		{
			"name": "http://localhost:4444/auth/oauth/token",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/x-www-form-urlencoded"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "Content-Type",
							"value": "application/x-www-form-urlencoded",
							"type": "text",
							"disabled": true
						},
						{
							"key": "grant_type",
							"value": "authorization_code",
							"type": "text"
						},
						{
							"key": "client_id",
							"value": "gateway",
							"type": "text"
						},
						{
							"key": "redirect_uri",
							"value": "http://example.com",
							"type": "text"
						},
						{
							"key": "code",
							"value": "g2QydX",
							"type": "text"
						},
						{
							"key": "client_secret",
							"value": "1234",
							"type": "text",
							"disabled": true
						}
					]
				},
				"url": "http://localhost:4444/auth/oauth/token"
			},
			"response": []
		},
		{
			"name": "http://localhost:4444/accounts/search/findByUsername?username=mapaez",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsiRE9PIiwiRk9PIiwiWU9PIiwiYWNjb3VudC1yZXNvdXJjZSJdLCJ1c2VyX25hbWUiOiJtYXBhZXoiLCJzY29wZSI6WyJGT08iLCJZT08iXSwiZXhwIjoxNTEyNzU4NDUwLCJhdXRob3JpdGllcyI6WyJST0xFX0FETUlOLCBST0xFX1VTRVIsIEZPT19SRUFEX1VTRVIiXSwianRpIjoiNDg3NDE0MjEtN2IwMS00NmM2LTk0NDctZmVkNTQxZGUyYmYwIiwiY2xpZW50X2lkIjoiZ2F0ZXdheSJ9.jxi7Pvc0YqaLkKr2uaajMO8HR43KZlo0-6XNAotCNJU0CaEjBgoS2Rsw6xcm3xpRW2Mc-ve_QXbPP0-zxq5mdRYLwue3HygnT3x0RkwT9BJfpt8hiosVh62uveuSCJ91KvkABnn23srMS9ipp7XNXS4-OgWYWJzGfbwbwG9S_x7iPdpBzY6hOFoyesUKrJuEv7CTGzJm0T5kC4XsJwoPi-irNMjyWyKhnWURY_7-IppoDzvrC4lXxdtuZKdzCdwsJ_K02Q7T-vHrq6iteUVU2u7Hb7Aij69ZLOqWJ7jwWlkQKne7EMC_XVywEbfpLlSTQMKrBEocPHpkJBWKgIjckA"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"name\": \"manuel\",\n\t\"username\": \"mapaez\",\n\t\"isActive\": true,\n\t\"password\": 1234,\n\t\"authorities\": \"ROLE_ADMIN\"\n}"
				},
				"url": {
					"raw": "http://localhost:4444/accounts/search/findByUsername?username=mapaez",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "4444",
					"path": [
						"accounts",
						"search",
						"findByUsername"
					],
					"query": [
						{
							"key": "username",
							"value": "mapaez",
							"equals": true
						}
					]
				},
				"description": "This endpoint is role based protected. Ideal for testing roles"
			},
			"response": []
		},
		{
			"name": "http://localhost:4444/auth/oauth/token",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/x-www-form-urlencoded"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "grant_type",
							"value": "refresh_token",
							"type": "text"
						},
						{
							"key": "refresh_token",
							"value": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsiRE9PIiwiRk9PIiwiWU9PIiwiYWNjb3VudC1yZXNvdXJjZSJdLCJ1c2VyX25hbWUiOiJtYXBhZXoiLCJzY29wZSI6WyJGT08iLCJZT08iXSwiYXRpIjoiMDQwZDgxMjYtZDI4Yi00MTgwLWIyNGYtMzliNjUzMjU5YTA0IiwiZXhwIjoxNTEzMjU4NjI0LCJhdXRob3JpdGllcyI6WyJST0xFX0FETUlOLCBST0xFX1VTRVIsIEZPT19SRUFEX1VTRVIiXSwianRpIjoiMTY5ZWZmMWEtNDFiMy00YmM1LThiNTAtNWFmZWI0MzQ3YjNmIiwiY2xpZW50X2lkIjoiZ2F0ZXdheSJ9.eaoJsZTUI0aHcp5-Wh4NCpcC_6CkjQD4SJgQvO8w2OEbjBJIx4t6JQr3g-masQWxPPbND4_a4zvExlBVTKV37_QxZ9iFDMEL6iBRw4ROg7M2C1IRi6jKy_3ZHWCwHgEm07uwC8DvRPXpUmLbFR5E6HfSw1-eV8zZMSpUKOE7b-H6_Oizcy-CGHvDIYZhDm6HKMJUSq1Hgar9ZNBqQ9I3cigxy8ELsT4ULZX1jGpNVXbzvdKn1ItRkiV4r-fNRArxaZytzWO8xPnbmAGdV0KIRyd6EXjxgoKWZvZDOgwDbRKWP_QsfTYPWCOC303bqpZlCioy32sQcLKNlCtXGdc9WA",
							"type": "text"
						}
					]
				},
				"url": "http://localhost:4444/auth/oauth/token",
				"description": "Refresh token"
			},
			"response": []
		}
	]
}